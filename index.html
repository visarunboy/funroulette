<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>–í–µ—Å—ë–ª–∞—è —Ä—É–ª–µ—Ç–∫–∞: —á–µ–º –∑–∞–Ω—è—Ç—å—Å—è?</title>
  <meta name="theme-color" content="#7c3aed" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@400;600;800&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg: #0f1021;
      --card: #1b1d3a;
      --accent: #ffd166;
      --accent2: #7c3aed;
      --accent3: #06d6a0;
      --text: #e5e7eb;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: 'Rubik', sans-serif;
      color:var(--text);
      background:radial-gradient(1200px 800px at 10% -20%, rgba(124,58,237,.25), transparent 60%),
        radial-gradient(1000px 600px at 90% 120%, rgba(6,214,160,.2), transparent 60%),
        linear-gradient(180deg, #0b0c1a, #0f1021 50%, #0b0c1a);
      display:flex;
      flex-direction:column;
      align-items:center;
      min-height:100vh;
      overflow-x:hidden;
      padding:20px;
    }
    h1{
      font-size:clamp(22px,4vw,40px);
      font-weight:800;
      margin:0;
      text-align:center;
    }
    .subtitle{text-align:center;opacity:.8;margin:6px 0 24px}
    .wheel-wrap{position:relative;display:flex;justify-content:center;align-items:center;width:min(90vw,600px);aspect-ratio:1/1;}
    canvas{width:100%;height:100%;border-radius:50%;display:block;}
    .pin{position:absolute;top:-10px;left:50%;transform:translateX(-50%);width:0;height:0;border-left:12px solid transparent;border-right:12px solid transparent;border-bottom:22px solid var(--accent);filter:drop-shadow(0 4px 6px rgba(0,0,0,.4));}
    .center-cap{position:absolute;inset:auto;width:110px;height:110px;border-radius:50%;background:radial-gradient(circle at 30% 30%, #fff, #ffe8a3 35%, #eab308 60%, #a16207 100%);display:grid;place-items:center;font-weight:800;color:#1f2937;border:4px solid rgba(255,255,255,.7);cursor:pointer;box-shadow:0 8px 24px rgba(0,0,0,.4), 0 0 0 8px rgba(255,209,102,.15);}
    .controls{display:flex;gap:12px;flex-wrap:wrap;justify-content:center;margin-top:18px}
    .btn{cursor:pointer;border:none;border-radius:14px;padding:14px 18px;font-weight:700;font-size:16px}
    .btn-primary{background:linear-gradient(135deg,var(--accent2), #a78bfa);color:white;box-shadow:0 8px 18px rgba(124,58,237,.35)}
    .btn-ghost{background:transparent;color:var(--text);border:1px solid rgba(255,255,255,.14)}
    .btn:active{transform:translateY(1px)}
    .card{background:rgba(27,29,58,.6);backdrop-filter:blur(8px);border:1px solid rgba(255,255,255,.08);border-radius:20px;padding:18px;margin-top:20px;max-width:600px;width:100%}
    .tags{display:flex;flex-wrap:wrap;gap:8px}
    .tag{padding:8px 12px;border-radius:999px;border:1px dashed rgba(255,255,255,.18);opacity:.9}
    details summary{cursor:pointer;font-weight:600}
    textarea{width:100%;padding:10px;border-radius:12px;background:#0f1229;color:var(--text);border:1px solid rgba(255,255,255,.12);margin-top:10px}
    .footer{opacity:.65;text-align:center;margin:24px 0;font-size:13px}
  </style>
</head>
<body>
  <h1>üé° –í–µ—Å—ë–ª–∞—è —Ä—É–ª–µ—Ç–∫–∞: <span style="color:var(--accent)">—á–µ–º –∑–∞–Ω—è—Ç—å—Å—è?</span></h1>
  <div class="subtitle">–ù–∞–∂–º–∏ ¬´–ö—Ä—É—Ç–∏—Ç—å¬ª ‚Äî –∏ —Å—É–¥—å–±–∞ (–∏ –Ω–µ–º–Ω–æ–≥–æ –º–∞—Ç–µ–º–∞—Ç–∏–∫–∏) —Ä–µ—à–∞—Ç –∑–∞ —Ç–µ–±—è üòÑ</div>
  <div class="wheel-wrap">
    <canvas id="wheel" width="900" height="900"></canvas>
    <div class="pin"></div>
    <div class="center-cap" id="centerSpin">–ö—Ä—É—Ç–∏—Ç—å!</div>
  </div>
  <div class="controls">
    <button class="btn btn-primary" id="spinBtn">üéâ –ö—Ä—É—Ç–∏—Ç—å</button>
    <button class="btn btn-ghost" id="shuffleBtn">üîÄ –ü–µ—Ä–µ–º–µ—à–∞—Ç—å</button>
    <button class="btn btn-ghost" id="copyBtn">üìã –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
  </div>

  <div class="card">
    <h2>–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –Ω–∞ —Ä—É–ª–µ—Ç–∫–µ</h2>
    <div id="tags" class="tags"></div>
    <details>
      <summary>–ò–∑–º–µ–Ω–∏—Ç—å —Å–ø–∏—Å–æ–∫</summary>
      <textarea id="editor" rows="8"></textarea>
      <button class="btn btn-primary" id="applyBtn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
      <button class="btn btn-ghost" id="resetBtn">–°–±—Ä–æ—Å–∏—Ç—å</button>
    </details>
  </div>

  <div class="card">
    <h2>–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç</h2>
    <p>–ö–æ–ª–µ—Å–æ –¥–µ–ª–∏—Ç—Å—è –Ω–∞ —Å–µ–∫—Ç–æ—Ä–∞ –ø–æ —á–∏—Å–ª—É –∫–∞—Ç–µ–≥–æ—Ä–∏–π. –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ ¬´–ö—Ä—É—Ç–∏—Ç—å¬ª –∫–æ–ª–µ—Å–æ –≤—Ä–∞—â–∞–µ—Ç—Å—è —Å —É—Å–∫–æ—Ä–µ–Ω–∏–µ–º –∏ –ø–ª–∞–≤–Ω—ã–º —Ç–æ—Ä–º–æ–∂–µ–Ω–∏–µ–º. –ö–æ–≥–¥–∞ –æ–Ω–æ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è, —Å—Ç—Ä–µ–ª–∫–∞ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –≤—ã–±—Ä–∞–Ω–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç üéØ</p>
  </div>

  <div class="footer">–°–¥–µ–ª–∞–Ω–æ —Å ‚ù§Ô∏è –∏ JavaScript</div>

  <script>
    const wheelCanvas=document.getElementById('wheel');
    const ctx=wheelCanvas.getContext('2d');
    const centerSpin=document.getElementById('centerSpin');
    const spinBtn=document.getElementById('spinBtn');
    const shuffleBtn=document.getElementById('shuffleBtn');
    const copyBtn=document.getElementById('copyBtn');
    const editor=document.getElementById('editor');
    const applyBtn=document.getElementById('applyBtn');
    const resetBtn=document.getElementById('resetBtn');
    const tags=document.getElementById('tags');

    let items=["–°–º–æ—Ç—Ä–µ—Ç—å –∫–∏–Ω–æ","–°–ª—É—à–∞—Ç—å –º—É–∑—ã–∫—É","–£—á–∏—Ç—å—Å—è","–°–º–æ—Ç—Ä–µ—Ç—å YouTube","–°–ª—É—à–∞—Ç—å –ø–æ–¥–∫–∞—Å—Ç","–ó–∞–Ω—è—Ç—å—Å—è —Å–ø–æ—Ä—Ç–æ–º","–ß–∏—Ç–∞—Ç—å –∫–Ω–∏–≥—É","–°—Ö–æ–¥–∏—Ç—å –≤ –∫–∞—Ñ–µ/—Ä–µ—Å—Ç–æ—Ä–∞–Ω","–ù–∞–ø–∏—Å–∞—Ç—å/–ø–æ–∑–≤–æ–Ω–∏—Ç—å –¥—Ä—É–≥—É/–ø–æ–¥—Ä—É–≥–µ","–ü—Ä–∏–≥–æ—Ç–æ–≤–∏—Ç—å –µ–¥—É","–£–±—Ä–∞—Ç—å—Å—è –¥–æ–º–∞","–°–¥–µ–ª–∞—Ç—å –¥–µ–ª–∞, –∫–æ—Ç–æ—Ä—ã–µ –¥–∞–≤–Ω–æ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–ª","–î–µ–π—Ç–∏–Ω–≥","–ü–æ–º–µ—á—Ç–∞—Ç—å","–ü–æ–º–æ–ª–∏—Ç—å—Å—è","–ú–µ–¥–∏—Ç–∞—Ü–∏—è/–ô–æ–≥–∞","–ü–æ—Ä–∞–±–æ—Ç–∞—Ç—å","–õ–µ—á—å —Å–ø–∞—Ç—å","–ü–æ–ø–∏—Ç—å —á–∞–π/–∫–æ—Ñ–µ","–ü–∏—Å–∞—Ç—å –∫–æ–¥","–°–º–æ—Ç—Ä–µ—Ç—å –º–µ–º—ã","–ó–∞–Ω—è—Ç—å—Å—è —Ç–≤–æ—Ä—á–µ—Å—Ç–≤–æ–º"];

    let angle=0; let spinning=false;

    function drawWheel(){
      const n=items.length;
      const step=2*Math.PI/n;
      const r=wheelCanvas.width/2;
      ctx.clearRect(0,0,wheelCanvas.width,wheelCanvas.height);
      const colors=['#f97316','#06d6a0','#3b82f6','#f43f5e','#ffd166','#a855f7','#22c55e','#e11d48'];
      for(let i=0;i<n;i++){
        const start=angle+i*step;
        const end=start+step;
        ctx.beginPath();
        ctx.moveTo(r,r);
        ctx.arc(r,r,r-4,start,end);
        ctx.closePath();
        ctx.fillStyle=colors[i%colors.length];
        ctx.fill();
        ctx.save();
        ctx.translate(r,r);
        ctx.rotate(start+step/2);
        ctx.textAlign='right';
        ctx.fillStyle='#0b0c1a';
        ctx.font='700 24px Rubik';
        ctx.fillText(items[i],r-20,10);
        ctx.restore();
      }
    }

    function spin(){
      if(spinning)return; spinning=true;
      const n=items.length;
      const targetIndex=Math.floor(Math.random()*n);
      const step=2*Math.PI/n;
      const targetAngle=(Math.PI*1.5)-(targetIndex*step+step/2);
      const fullTurns=(Math.PI*2)*(5+Math.floor(Math.random()*4));
      const finalAngle=targetAngle+fullTurns;
      const start=performance.now();
      const duration=4000;
      const startAngle=angle;
      function animate(now){
        const t=Math.min(1,(now-start)/duration);
        const eased=1-Math.pow(1-t,3);
        angle=startAngle+(finalAngle-startAngle)*eased;
        drawWheel();
        if(t<1)requestAnimationFrame(animate);else{
          spinning=false;
          angle%=2*Math.PI;
          const idx=Math.floor(((Math.PI*1.5-angle+2*Math.PI)%(2*Math.PI))/(2*Math.PI/n));
          alert('üéØ –°–µ–≥–æ–¥–Ω—è: '+items[idx]);
        }
      }
      requestAnimationFrame(animate);
    }

    function shuffle(a){for(let i=a.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[a[i],a[j]]=[a[j],a[i]];}return a;}

    function renderTags(){tags.innerHTML='';items.forEach(x=>{const t=document.createElement('span');t.className='tag';t.textContent=x;tags.appendChild(t);});}

    function updateEditor(){editor.value=items.join('\n');}

    applyBtn.onclick=()=>{const lines=editor.value.split(/\n+/).map(x=>x.trim()).filter(Boolean);if(lines.length){items=lines;drawWheel();renderTags();localStorage.setItem('wheelItems',JSON.stringify(items));}};
    resetBtn.onclick=()=>{items=["–°–º–æ—Ç—Ä–µ—Ç—å –∫–∏–Ω–æ","–°–ª—É—à–∞—Ç—å –º—É–∑—ã–∫—É","–£—á–∏—Ç—å—Å—è","–°–º–æ—Ç—Ä–µ—Ç—å YouTube","–°–ª—É—à–∞—Ç—å –ø–æ–¥–∫–∞—Å—Ç","–ó–∞–Ω—è—Ç—å—Å—è —Å–ø–æ—Ä—Ç–æ–º","–ß–∏—Ç–∞—Ç—å –∫–Ω–∏–≥—É","–°—Ö–æ–¥–∏—Ç—å –≤ –∫–∞—Ñ–µ/—Ä–µ—Å—Ç–æ—Ä–∞–Ω","–ù–∞–ø–∏—Å–∞—Ç—å/–ø–æ–∑–≤–æ–Ω–∏—Ç—å –¥—Ä—É–≥—É/–ø–æ–¥—Ä—É–≥–µ","–ü—Ä–∏–≥–æ—Ç–æ–≤–∏—Ç—å –µ–¥—É","–£–±—Ä–∞—Ç—å—Å—è –¥–æ–º–∞","–°–¥–µ–ª–∞—Ç—å –¥–µ–ª–∞, –∫–æ—Ç–æ—Ä—ã–µ –¥–∞–≤–Ω–æ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–ª","–î–µ–π—Ç–∏–Ω–≥","–ü–æ–º–µ—á—Ç–∞—Ç—å","–ü–æ–º–æ–ª–∏—Ç—å—Å—è","–ú–µ–¥–∏—Ç–∞—Ü–∏—è/–ô–æ–≥–∞"];drawWheel();renderTags();updateEditor();};

    spinBtn.onclick=spin; centerSpin.onclick=spin; shuffleBtn.onclick=()=>{items=shuffle(items);drawWheel();renderTags();}; copyBtn.onclick=()=>{navigator.clipboard.writeText('–°–µ–≥–æ–¥–Ω—è: '+items[Math.floor(Math.random()*items.length)]).then(()=>alert('–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!'));};

    if(localStorage.getItem('wheelItems'))items=JSON.parse(localStorage.getItem('wheelItems'));
    drawWheel();renderTags();updateEditor();
  </script>
</body>
</html>
